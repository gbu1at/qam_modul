# QAM-модуляция и демодуляция с гауссовым шумом

Этот проект реализует модуляцию/демодуляцию QAM (QPSK, QAM16, QAM64) с добавлением гауссовского шума и анализом ошибок.

## Структура проекта
```
include/
    GaussNoiseAdder.hpp    # Класс для добавления шума
    QAM.hpp                # Класс QAM модулятора/демодулятора
src/
    main.cpp               # Основная программа
    QAM.cpp                # Реализация QAM
test/
    doctest.h              # Библиотека тестирования
    test.cpp               # Тесты
    Makefile               # Сборка тестов
graph.py                   # Скрипт для построения графиков
Makefile                   # Основной Makefile
```

## Требования
- C++17
- Python 3 (для графиков)
- Библиотеки: NumPy, Matplotlib

## Установка
```bash
make           # Сборка основной программы
cd test && make # Сборка тестов
```

## Использование
Основная программа:
```bash
./main <deviation> <modulator> [output_file]
```
- `modulator`: Тип модуляции (`QPSK`, `QAM16`, `QAM64`)
- `deviation`: Дисперсия шума (double)
- `output_file`: Опциональный файл для сохранения BER

Пример:
```bash
./main 0.5 QPSK results.txt
```

## Параметры
- Длина битовой последовательности: `N = 1,200,000`

## Построение графиков
```bash
python3 graph.py  # Генерирует graph_QPSK.png, graph_QAM16.png, graph_QAM64.png
```
Скрипт запускает `main.cpp` для всех модуляторов и сохраняет графики зависимости BER от шума.

## Параметры
- Диапазон дисперсий для графиков: `X = np.linspace(0, 2, 100)`


## Тестирование
```bash
cd test && ./test  # Запуск unit-тестов
```
Тесты проверяют корректность кодирования/декодирования без учета шума.

## Особенности реализации
1. **Проверка входных данных**:  
   Класс `QAM` выбрасывает исключение, если длина битовой строки не кратна:
   - 2 для QPSK
   - 4 для QAM16
   - 8 для QAM64

2. **Добавление шума**:  
   Гауссовский шум генерируется с использованием `<random>` (Box-Muller transform).

3. **Демодуляция**:  
   Используется метод ближайшего соседа в constellation diagram.
